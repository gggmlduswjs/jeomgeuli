# 한국 점자 매핑 규정

## 개요

이 문서는 점글이 프로젝트에서 사용하는 한국 점자 매핑 규정을 설명합니다.

## 점 번호 표준

점자 셀은 2x3 그리드로 구성되며, 점 번호는 다음과 같이 정의됩니다:

```
[1] [4]
[2] [5]
[3] [6]
```

## Dot → Bit 매핑

표준 비트 매핑 (전 계층 공통):

- bit0 → dot1
- bit1 → dot2
- bit2 → dot3
- bit3 → dot4
- bit4 → dot5
- bit5 → dot6

## Pattern 생성 공식

```python
pattern = 0
for dot in dots:
    pattern |= (1 << (dot - 1))
pattern &= 0x3F  # 6-bit 제한
```

예시:
- `[1, 2, 6]` → `0x23` (bit0=1, bit1=1, bit5=1)
- `[4]` → `0x08` (bit3=1)

## 자모별 점자 테이블

### 초성 (19자)

| 자모 | 점 번호 | 패턴 (hex) |
|------|---------|------------|
| ㄱ | [4] | 0x08 |
| ㄴ | [1, 4] | 0x09 |
| ㄷ | [2, 4] | 0x0A |
| ㄹ | [5] | 0x10 |
| ㅁ | [1, 5] | 0x11 |
| ㅂ | [4, 5] | 0x18 |
| ㅅ | [6] | 0x20 |
| ㅇ | [3, 4] | 0x0C |
| ㅈ | [4, 6] | 0x28 |
| ㅊ | [5, 6] | 0x30 |
| ㅋ | [1, 2, 4] | 0x0B |
| ㅌ | [1, 2, 5] | 0x13 |
| ㅍ | [1, 4, 5] | 0x19 |
| ㅎ | [2, 4, 5] | 0x1A |
| ㄲ | [1, 6] | 0x21 |
| ㄸ | [1, 4, 6] | 0x29 |
| ㅃ | [1, 4, 5, 6] | 0x39 |
| ㅆ | [2, 4, 6] | 0x2A |
| ㅉ | [1, 2, 4, 5, 6] | 0x3B |

### 중성 (21자)

| 자모 | 점 번호 | 패턴 (hex) |
|------|---------|------------|
| ㅏ | [1, 2, 6] | 0x23 |
| ㅑ | [3, 4, 5] | 0x1C |
| ㅓ | [2, 3, 4] | 0x0E |
| ㅕ | [1, 5, 6] | 0x31 |
| ㅗ | [1, 3, 6] | 0x25 |
| ㅛ | [3, 4, 6] | 0x2C |
| ㅜ | [1, 3, 4] | 0x0D |
| ㅠ | [1, 4, 6] | 0x29 |
| ㅡ | [2, 4, 6] | 0x2A |
| ㅣ | [1, 3, 5] | 0x15 |
| ㅐ | [1, 2, 3, 5] | 0x17 |
| ㅔ | [1, 3, 4, 5] | 0x1D |
| ㅖ | [3, 4] | 0x0C |
| ㅘ | [1, 2, 3, 6] | 0x27 |
| ㅝ | [1, 2, 3, 4] | 0x0F |
| ㅢ | [2, 4, 5, 6] | 0x3A |
| ㅚ | [1, 3, 4, 5, 6] | 0x3D |
| ㅙ | ["ㅗ", "⠗"] | 2개 패턴 |
| ㅞ | ["ㅜ", "⠗"] | 2개 패턴 |
| ㅟ | ["ㅜ", "⠗"] | 2개 패턴 |
| ㅒ | [3, 5, 6] | 0x36 |

### 종성 (24자)

| 자모 | 점 번호 | 패턴 (hex) |
|------|---------|------------|
| ㄱ | [4] | 0x08 |
| ㄴ | [1, 4] | 0x09 |
| ㄷ | [2, 4] | 0x0A |
| ㄹ | [5] | 0x10 |
| ㅁ | [1, 5] | 0x11 |
| ㅂ | [4, 5] | 0x18 |
| ㅅ | [6] | 0x20 |
| ㅈ | [4, 6] | 0x28 |
| ㅊ | [5, 6] | 0x30 |
| ㅋ | [1, 2, 4] | 0x0B |
| ㅌ | [1, 2, 5] | 0x13 |
| ㅍ | [1, 4, 5] | 0x19 |
| ㅎ | [2, 4, 5] | 0x1A |
| ㄳ | [4, 6] | 0x28 |
| ㄵ | [2, 4, 5] | 0x1A |
| ㄶ | [2, 4, 5] | 0x1A |
| ㄺ | [4, 5] | 0x18 |
| ㄻ | [1, 5] | 0x11 |
| ㄼ | [4, 5] | 0x18 |
| ㄽ | [6] | 0x20 |
| ㄾ | [1, 2, 5] | 0x13 |
| ㄿ | [1, 4, 5] | 0x19 |
| ㅀ | [2, 4, 5] | 0x1A |
| ㅄ | [6] | 0x20 |

### 특수 기호

| 기호 | 점 번호 | 패턴 (hex) | 설명 |
|------|---------|------------|------|
| ⠗ | [1, 2, 3, 5] | 0x17 | 이중모음 조합 기호 |

### 구두점

| 기호 | 점 번호 | 패턴 (hex) |
|------|---------|------------|
| 공백 | [0, 0, 0, 0, 0, 0] | 0x00 |
| . | [0, 1, 0, 1, 1, 0] | 0x16 |
| , | [0, 1, 0, 0, 0, 0] | 0x02 |
| ! | [0, 1, 1, 0, 1, 0] | 0x1A |
| ? | [0, 1, 1, 0, 0, 1] | 0x19 |

## 이중모음 처리

이중모음 `ㅙ`, `ㅞ`, `ㅟ`는 두 개의 점자 셀로 표현됩니다:

- `ㅙ`: `ㅗ` + `⠗`
- `ㅞ`: `ㅜ` + `⠗`
- `ㅟ`: `ㅜ` + `⠗`

## 겹받침 처리

겹받침은 단일 점자 셀로 표현됩니다. 예:

- `ㄳ`: [4, 6] → 0x28
- `ㄵ`: [2, 4, 5] → 0x1A
- `ㄶ`: [2, 4, 5] → 0x1A

## 데이터 소스

모든 매핑 데이터는 `backend/data/ko_braille.json` 파일에 저장되어 있으며, 다음 구조를 따릅니다:

```json
{
  "initial": { "ㄱ": [4], ... },
  "vowel": { "ㅏ": [1, 2, 6], ... },
  "final": { "ㄱ": [4], ... },
  "special": { "⠗": [1, 2, 3, 5] },
  "punctuation": { " ": [0, 0, 0, 0, 0, 0], ... }
}
```

